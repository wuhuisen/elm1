webpackJsonp([6],{Ajq6:function(t,i){},SbWE:function(t,i){},WA8o:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});n("Ajq6");var a={data:function(){return{liet:[],zhao:[],baimg:"",pei:"",xian:!0,xian1:!1,activeId:1,mainActiveIndex:0,qiai:0,song:20,gou:[],show:!1}},methods:{showPopup:function(){this.show=!0},faA:function(){var t=this,i=this.$route.query.id;this.zhao=i,this.axios.get("http://elm.cangdu.org/shopping/v2/menu?restaurant_id="+i.id).then(function(i){t.liet=i.data,console.log(t.liet)}),this.baimg="http://elm.cangdu.org//img/"+this.zhao.image_path,this.pei=this.zhao.piecewise_agent_fee.tips},faB:function(){this.$router.go(-1)},faC:function(t){t.target.style.color="red",this.xian=!0,this.xian1=!1},faD:function(t){t.target.style.color="red",this.xian=!1,this.xian1=!0,this.axios.get("http://elm.cangdu.org/ugc/v2/restaurants/3325/ratings?has_content=true&offset=0&limit=10&tag_name=").then(function(t){console.log(t)})},fBa:function(t,i){var n={name:t.name,qian:t.satisfy_rate,num:1,img:t.image_path};console.log(t);var a=this.gou.findIndex(function(i){return i.name==t.name});for(var e in-1==a?this.gou.unshift(n):this.gou[a].num++,this.$store.commit("faE",this.gou),function(t){var i=document.createElement("div");i.className="ballFather",document.body.appendChild(i);var n=document.createElement("div");n.className="ballSon",i.appendChild(n);var a=t.clientY,e=t.clientX;i.style.left=e+"px",i.style.top=a+"px";var s=window.innerHeight-a;i.style.webkitTransform="translateY("+s+"px)",i.style.transform="translateY("+s+"px)",n.style.webkitTransform="translateX(-"+(e-10)+"px)",n.style.transform="translateX(-"+(e-10)+"px)",setTimeout(function(){document.querySelector(".sc").classList.add("animation"),setTimeout(function(){document.querySelector(".sc").classList.remove("animation")},400)},500)}(i),this.qiai=0,this.gou)this.qiai+=this.gou[e].qian*this.gou[e].num;this.song=20,this.song=this.song-this.qiai,this.song<0&&(this.song=0,console.log(this.song))},faQ:function(){this.$router.push("./list")}},mounted:function(){this.faA()}},e={render:function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{attrs:{id:"xiang"}},[n("van-icon",{attrs:{name:"arrow-left tou"},on:{click:function(i){return t.faB()}}}),t._v(" "),n("div",{style:{"background-image":"url("+t.baimg+")"},attrs:{id:"mohu"}}),t._v(" "),n("div",{attrs:{id:"zhaopai"}},[n("div",[n("img",{attrs:{src:"http://elm.cangdu.org//img/"+t.zhao.image_path}}),t._v(" "),n("div",[n("h3",[t._v(t._s(t.zhao.name))]),t._v(" "),n("p",[t._v("商家配送/分钟送达/"+t._s(t.pei))]),t._v(" "),n("p",[t._v("公告："+t._s(t.zhao.promotion_info))])]),t._v(" "),t.zhao.activities?n("div",[t.zhao.activities[0]?n("p",[t._v(" "+t._s(t.zhao.activities[0].description))]):t._e(),t._v(" "),t.zhao.activities.length?n("p",{staticStyle:{float:"right","margin-top":"-0.5rem"}},[t._v(t._s(t.zhao.activities.length)+"个活动"),n("van-icon",{attrs:{name:"arrow"}})],1):t._e()]):t._e()])]),t._v(" "),n("div",{attrs:{id:"shangpin"}},[n("div",[n("p",{on:{click:function(i){return t.faC(i)}}},[t._v("商品")]),t._v(" "),n("p",{on:{click:function(i){return t.faD(i)}}},[t._v("评论")])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.xian,expression:"xian"}],attrs:{id:"gouwu"}},[n("div",t._l(t.liet,function(i,a){return n("h3",{key:a},[n("a",{attrs:{href:"#fa"+a}},[t._v(t._s(i.name))])])}),0),t._v(" "),n("div",t._l(this.liet,function(i,a){return n("div",{key:a},[n("h3",[t._v(t._s(i.name))]),t._v(" "),t._l(i.foods,function(i,e){return n("div",{key:e},[n("img",{attrs:{src:"http://elm.cangdu.org//img/"+i.image_path}}),t._v(" "),n("div",{staticStyle:{width:"6rem"},attrs:{id:"jia"}},[n("h3",{attrs:{id:"fa"+a}},[t._v(t._s(i.name))]),t._v(" "),n("p",[t._v(t._s(i.tips))]),t._v(" "),n("p",{staticStyle:{color:"red"}},[t._v("￥"+t._s(i.satisfy_rate)+"\n                                "),n("button",{staticStyle:{float:"right",border:"0px",background:"#3190E8","border-radius":"0.5rem"},on:{click:function(n){return t.fBa(i,n)}}},[t._v("+")])]),t._v(" "),n("span",{attrs:{id:"qui"}})])])})],2)}),0)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.xian1,expression:"xian1"}]},[t._v("\n            评论\n        ")]),t._v(" "),n("div",{attrs:{id:"di-1"}},[n("van-icon",{staticClass:"sc",attrs:{name:"cart-circle x"},on:{click:t.showPopup}}),t._v(" "),n("div",[n("p",[t._v("￥"+t._s(t.qiai))]),n("p"),n("p",[t._v(t._s(t.pei))])]),t._v(" "),0!==t.song?n("h3",[t._v("还差￥"+t._s(t.song)+"起送")]):t._e(),t._v(" "),0==t.song?n("h3",{staticStyle:{"text-align":"center",color:"red"},on:{click:function(i){return t.faQ()}}},[t._v("去结算")]):t._e()],1),t._v(" "),n("van-popup",{style:{height:"auto",width:"100%"},attrs:{position:"button"},model:{value:t.show,callback:function(i){t.show=i},expression:"show"}},t._l(this.gou,function(i,a){return n("div",{key:a},[n("p",[t._v(t._s(i.name)),n("span",[t._v(t._s(i.qian))]),t._v(" "),n("van-stepper",{attrs:{value:i.num}})],1)])}),0)],1)},staticRenderFns:[]};var s=n("C7Lr")(a,e,!1,function(t){n("SbWE")},"data-v-3d51222e",null);i.default=s.exports}});
//# sourceMappingURL=6.32a0b1cc33521e4326cd.js.map