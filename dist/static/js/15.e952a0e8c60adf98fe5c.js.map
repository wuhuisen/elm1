{"version":3,"sources":["webpack:///src/components/diti/ditu.vue","webpack:///./src/components/diti/ditu.vue?2139","webpack:///./src/components/diti/ditu.vue"],"names":["ditu","methods","faA","map","AMap","Map","resizeEnable","on","console","log","plugin","geolocation","Geolocation","enableHighAccuracy","timeout","buttonPosition","buttonOffset","Pixel","zoomToAccuracy","addControl","getCurrentPosition","status","result","data","document","getElementById","innerHTML","str","push","position","location_type","accuracy","isConverted","join","onComplete","message","querySelector","onclick","destroy","alert","mounted","this","diti_ditu","render","$createElement","_self","_c","_m","staticRenderFns","_h","attrs","id","_v","staticClass","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"6HAaA,IAAAA,GACAC,SACAC,IADA,WAGA,IAAAC,EAAA,IAAAC,KAAAC,IAAA,aACAC,cAAA,IAGAH,EAAAI,GAAA,sBACAC,QAAAC,IAAA,YAGAL,KAAAM,OAAA,8BACA,IAAAC,EAAA,IAAAP,KAAAQ,aACAC,oBAAA,EACAC,QAAA,IACAC,eAAA,KACAC,aAAA,IAAAZ,KAAAa,MAAA,OACAC,gBAAA,IAGAf,EAAAgB,WAAAR,GACAA,EAAAS,mBAAA,SAAAC,EAAAC,GAqBA,IAAAC,EApBA,YAAAF,EAQA,SAAAE,GACAC,SAAAC,eAAA,UAAAC,UAAA,OACA,IAAAC,KACAA,EAAAC,KAAA,QAAAL,EAAAM,UACAF,EAAAC,KAAA,QAAAL,EAAAO,eACAP,EAAAQ,UACAJ,EAAAC,KAAA,MAAAL,EAAAQ,SAAA,MAEAJ,EAAAC,KAAA,WAAAL,EAAAS,YAAA,UACAR,SAAAC,eAAA,UAAAC,UAAAC,EAAAM,KAAA,QAhBAC,CAAAZ,IAmBAC,EAjBAD,EAkBAE,SAAAC,eAAA,UAAAC,UAAA,OACAF,SAAAC,eAAA,UAAAC,UAAA,YAAAH,EAAAY,aAOAX,SAAAY,cAAA,QAAAC,QAJA,WACAlC,KAAAmC,UACAC,MAAA,YAMAC,QAxDA,WAyDAC,KAAAvC,QCnEewC,GADEC,OAFjB,WAA0BF,KAAaG,eAAbH,KAAuCI,MAAAC,GAAwB,OAA/DL,KAA+DM,GAAA,IAExEC,iBADjB,WAAoC,IAAaC,EAAbR,KAAaG,eAA0BE,EAAvCL,KAAuCI,MAAAC,IAAAG,EAAwB,OAAAH,EAAA,OAAAA,EAAA,OAA2BI,OAAOC,GAAA,eAAjGV,KAAmHW,GAAA,KAAAN,EAAA,OAAwBO,YAAA,SAAmBP,EAAA,MAAWI,OAAOC,GAAA,YAAeL,EAAA,MAA/LL,KAA+LW,GAAA,KAAAN,EAAA,KAA+BI,OAAOC,GAAA,YAAeL,EAAA,MAApPL,KAAoPW,GAAA,KAAAN,EAAA,KAApPL,KAAoPW,GAAA,sDAApPX,KAAoPW,GAAA,KAAAN,EAAA,UAAqHI,OAAOC,GAAA,SAAhXV,KAA4XW,GAAA,eCEha,IAcAE,EAdyBC,EAAQ,OAcjCC,CACExD,EACA0C,GATF,EAVA,SAAAe,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/15.e952a0e8c60adf98fe5c.js","sourcesContent":["<template>\r\n  <div>\r\n      <div id='container'></div>\r\n<div class=\"info\">\r\n    <h4 id='status'></h4><hr>\r\n    <p id='result'></p><hr>\r\n    <p >由于众多浏览器已不再支持非安全域的定位请求，为保位成功率和精度，请升级您的站点到HTTPS。</p>\r\n</div>\r\n<button id=\"but\">销毁地图</button>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nexport default {\r\n    methods:{\r\n        faA(){\r\n            // 初始化地图\r\n            var map = new AMap.Map('container', {\r\n        resizeEnable: true\r\n    });\r\n    //    地图加载完成\r\n      map.on(\"complete\", function(){\r\n       console.log('地图加载完成')\r\n    });\r\n    //地图样式\r\n    AMap.plugin('AMap.Geolocation', function() {\r\n        var geolocation = new AMap.Geolocation({\r\n            enableHighAccuracy: true,//是否使用高精度定位，默认:true\r\n            timeout: 10000,          //超过10秒后停止定位，默认：5s\r\n            buttonPosition:'RB',    //定位按钮的停靠位置\r\n            buttonOffset: new AMap.Pixel(10, 20),//定位按钮与设置的停靠位置的偏移量，默认：Pixel(10, 20)\r\n            zoomToAccuracy: true,   //定位成功后是否自动调整地图视野到定位点\r\n\r\n        });\r\n        map.addControl(geolocation);\r\n        geolocation.getCurrentPosition(function(status,result){\r\n            if(status=='complete'){\r\n                onComplete(result)\r\n            }else{\r\n                onError(result)\r\n            }\r\n        });\r\n    });\r\n    //解析定位结果\r\n    function onComplete(data) {\r\n        document.getElementById('status').innerHTML='定位成功'\r\n        var str = [];\r\n        str.push('定位结果：' + data.position);\r\n        str.push('定位类别：' + data.location_type);\r\n        if(data.accuracy){\r\n             str.push('精度：' + data.accuracy + ' 米');\r\n        }//如为IP精确定位结果则没有精度信息\r\n        str.push('是否经过偏移：' + (data.isConverted ? '是' : '否'));\r\n        document.getElementById('result').innerHTML = str.join('<br>');\r\n    }\r\n    //解析定位错误信息\r\n    function onError(data) {\r\n        document.getElementById('status').innerHTML='定位失败'\r\n        document.getElementById('result').innerHTML = '失败原因排查信息:'+data.message;\r\n    }\r\n    //地图销毁\r\n      function destroyMap() {\r\n      map && map.destroy();\r\n      alert('地图已销毁')\r\n    }\r\n      document.querySelector(\"#but\").onclick = destroyMap;\r\n        },\r\n        \r\n    },\r\n    mounted(){\r\n        this.faA()\r\n    }\r\n}\r\n</script>\r\n<style  scoped>\r\n#container{\r\n    width: 100%;\r\n    height: 5rem;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/diti/ditu.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"container\"}}),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('h4',{attrs:{\"id\":\"status\"}}),_c('hr'),_vm._v(\" \"),_c('p',{attrs:{\"id\":\"result\"}}),_c('hr'),_vm._v(\" \"),_c('p',[_vm._v(\"由于众多浏览器已不再支持非安全域的定位请求，为保位成功率和精度，请升级您的站点到HTTPS。\")])]),_vm._v(\" \"),_c('button',{attrs:{\"id\":\"but\"}},[_vm._v(\"销毁地图\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6e87d505\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/diti/ditu.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e87d505\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./ditu.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./ditu.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./ditu.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e87d505\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./ditu.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6e87d505\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/diti/ditu.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}